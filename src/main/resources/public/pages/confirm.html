<md-stepper-card-content class="md-no-padding">

<md-steppers  md-dynamic-height md-stretch-steppers="always" md-selected="data.selectedStep" md-busy-text="'Processing...'" md-busy="data.showBusyText">

    <md-step label="Информация о получателе" md-complete="data.stepData[0].completed" ng-disabled="data.maxStep == data.stepProgress">
    <!--<md-step label="Информация о получателе" md-complete="data.stepData[0].completed">-->
        <md-card class="md-padding">
            <md-step-body>
                <md-content ng-form="step1">

                    <div layout="row" layout-xs="column">

                        <md-input-container flex>
                            <label class="required">Имя</label>
                            <input name="fname" ng-model="data.stepData[0].data.recipientFname" required>
                            <div ng-messages="step1.fname.$error" ng-if="!showHints">
                                <div ng-message="required">Необходимо указать имя заказчика</div>
                            </div>
                        </md-input-container>

                        <md-input-container flex>
                            <label class="required">Фамилия</label>
                            <input name="lname" ng-model="data.stepData[0].data.recipientLname" required>
                            <div ng-messages="step1.lname.$error" ng-if="!showHints">
                                <div ng-message="required">Необходимо указать фамилию заказчика</div>
                            </div>
                        </md-input-container>

                        <md-input-container flex>
                            <label>Отчество</label>
                            <input name="mname" ng-model="data.stepData[0].data.recipientMname">
                        </md-input-container>

                    </div>

                    <div layout="row" layout-xs="column">

                        <md-input-container flex>
                            <label class="required">Email</label>
                            <input name="email" ng-model="data.stepData[0].data.recipientEmail" ng-pattern="/^.+@.+\..+$/" required>
                            <div class="hint" ng-if="showHints">Пример: test@mail.com</div>
                            <div ng-messages="step1.email.$error" ng-if="!showHints">
                                <div ng-message-exp="['pattern','required']">Не корректный e-mail</div>
                            </div>
                        </md-input-container>

                        <md-input-container flex>
                            <label>Телефон</label>
                            <input name="phoneNumber" ng-model="data.stepData[0].data.recipientPhone" mask="(999) 999-99-99" mask-restrict="reject">
                            <div class="hint">Пример: (915) 343-43-45</div>
                            <div ng-messages="step1.phoneNumber.$error" ng-if="!showHints">
                                <div ng-message-exp="['mask']">Не корректный номер телефона</div>
                            </div>
                        </md-input-container>

                    </div>

                    <div layout="column" layout-wrap>

                        <md-input-container flex>
                            <label class="required">Адрес</label>
                            <input name="address" ng-model="data.stepData[0].data.recipientAddress" required>
                            <div ng-messages="step1.address.$error" ng-if="!showHints">
                                <div ng-message="required">Поле не может быть пустым</div>
                            </div>
                        </md-input-container>

                        <md-input-container flex>
                            <input ng-model="data.stepData[0].data.comment" placeholder="Комментарий">
                        </md-input-container>
                    </div>

                    <div flex style="justify-content: flex-end" layout="row">
                        <md-button ng-click="confirmFirstStep()" class="md-primary md-raised" ng-class="{'disabled':!step1.$dirty}">Далее</md-button>
                    </div>

                </md-content>
            </md-step-body>
        </md-card>

    </md-step>

    <md-step label="Способ доставки" md-complete="data.stepData[1].completed" ng-disabled="!data.stepData[0].completed || (data.maxStep == data.stepProgress)">
    <!--<md-step label="Способ доставки" md-complete="data.stepData[1].completed">-->
        <md-card class="md-padding">
            <md-step-body>
                <md-content ng-form="step2">
                    <div layout="column">

                        <md-radio-group ng-model="data.stepData[1].data.delivery" class="md-primary">
                            <md-radio-button ng-repeat="delivery in data.stepData[1].data.deliveries" ng-value="delivery" >{{delivery.value }}<br/>
                                <span>{{data.stepData[1].data.delivery.hint}}</span>
                            </md-radio-button>
                        </md-radio-group>
                    </div>

                    <div layout="row" layout-align="end top">
                        <md-button ng-click="moveToPreviousStep()">PREVIOUS</md-button>
                        <div flex></div>
                        <md-button ng-click="submitCurrentStep(data.stepData[1])" class="md-primary md-raised">Оформить заказ</md-button>
                    </div>

                </md-content>
            </md-step-body>
        </md-card>
    </md-step>

    <md-step label="Статус заказа" md-complete="data.stepData[2].completed" ng-disabled="!data.stepData[1].completed">
    <!--<md-step label="Статус заказа" md-complete="data.stepData[2].completed">-->
        <md-card class="md-padding">
            <md-step-body>
                <md-content>

                    <div layout="column">
                        <h5 style="text-align: center; text-transform: uppercase; margin-bottom: 15px;">Ваш заказ <span>#{{data.stepData[2].data.uid}}</span> успешно добавлен в обработку!</h5>
                        <hr style="width: 100px; margin-bottom: 35px;">
                        <span style="text-align: center;">На вашу почту была выслана информация о заказе!</span>
                        <span style="text-align: center;" ng-if="auth.isAuth()">Состояние заказа вы можете отслеживать в <a ui-sref="cabinet">личном кабинете</a></span>
                    </div>


                </md-content>
            </md-step-body>
        </md-card>
    </md-step>
</md-steppers>
</md-stepper-card-content>

<!--<md-button class="md-raised" ng-click="clear()">CLEAR</md-button>-->